{"remainingRequest":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\otino\\Desktop\\WEB56\\Client\\src\\components\\views\\RegistrationPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\src\\components\\views\\RegistrationPage.vue","mtime":1575649194000},{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JlZ2lzdHJhdGlvbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvZ2luOiAnJywKICAgICAgdGV4dEFsZXJ0OiAnJywKICAgICAgcGFzc3dvcmQxOiAnJywKICAgICAgcGFzc3dvcmQyOiAnJywKICAgICAgZGlzbWlzc1NlY3M6IDQsCiAgICAgIGRpc21pc3NDb3VudERvd246IDAsCiAgICAgIGRpc21pc3NDb3VudERvd25Hb29kOiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGdldEVycm9yOiBmdW5jdGlvbiBnZXRFcnJvcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMucmVnaXN0cmF0aW9uRXJyb3I7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBjcmVhdGVkJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKCEodGhpcy5nZXRFcnJvciAhPT0gbnVsbCkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAodGhpcy4kc3RvcmUuZGlzcGF0Y2goJ1NFVF9FUlJPUicsIHsKICAgICAgICAgICAgICB0eXBlOiAncmVnaXN0cmF0aW9uJywKICAgICAgICAgICAgICBlcnJvcjogbnVsbAogICAgICAgICAgICB9KSk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIG51bGwsIHRoaXMpOwogIH0sCiAgbWV0aG9kczogewogICAgY291bnREb3duQ2hhbmdlZDogZnVuY3Rpb24gY291bnREb3duQ2hhbmdlZChkaXNtaXNzQ291bnREb3duKSB7CiAgICAgIHRoaXMuZGlzbWlzc0NvdW50RG93biA9IGRpc21pc3NDb3VudERvd247CiAgICB9LAogICAgY291bnREb3duQ2hhbmdlZEdvb2Q6IGZ1bmN0aW9uIGNvdW50RG93bkNoYW5nZWRHb29kKGRpc21pc3NDb3VudERvd25Hb29kKSB7CiAgICAgIHRoaXMuZGlzbWlzc0NvdW50RG93bkdvb2QgPSBkaXNtaXNzQ291bnREb3duR29vZDsKICAgIH0sCiAgICBzaG93QWxlcnQ6IGZ1bmN0aW9uIHNob3dBbGVydChnb29kKSB7CiAgICAgIGlmIChnb29kKSB7CiAgICAgICAgdGhpcy5kaXNtaXNzQ291bnREb3duID0gMDsKICAgICAgICB0aGlzLmRpc21pc3NDb3VudERvd25Hb29kID0gdGhpcy5kaXNtaXNzU2VjczsKICAgICAgICB0aGlzLnRleHRBbGVydCA9ICdZb3UgYXJlIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRpc21pc3NDb3VudERvd25Hb29kID0gMDsKICAgICAgICB0aGlzLmRpc21pc3NDb3VudERvd24gPSB0aGlzLmRpc21pc3NTZWNzOwogICAgICAgIHRoaXMudGV4dEFsZXJ0ID0gdGhpcy5nZXRFcnJvcjsKICAgICAgfQogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBsb2dpbiwgcGFzc3dvcmQxLCBwYXNzd29yZDI7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gb25TdWJtaXQkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGxvZ2luID0gdGhpcy5sb2dpbiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzLmxvZ2luLnRyaW0oKTsKICAgICAgICAgICAgICBwYXNzd29yZDEgPSB0aGlzLnBhc3N3b3JkMSA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzLnBhc3N3b3JkMS50cmltKCk7CiAgICAgICAgICAgICAgcGFzc3dvcmQyID0gdGhpcy5wYXNzd29yZDIgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcy5wYXNzd29yZDIudHJpbSgpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGZldGNoKCJodHRwOi8vbG9jYWxob3N0OjUwMDAvcmVnaXN0cmF0aW9uIiwgewogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgIGxvZ2luOiBsb2dpbiwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQxOiBwYXNzd29yZDEsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkMjogcGFzc3dvcmQyCiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04IgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oZnVuY3Rpb24gKGpzb24pIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5zaG93QWxlcnQodHJ1ZSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oZnVuY3Rpb24gKGpzb24pIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ1NFVF9FUlJPUicsIHsKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWdpc3RyYXRpb24nLAogICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGpzb24uZXJyb3IKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd0FsZXJ0KGZhbHNlKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ1NFVF9FUlJPUicsIHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlZ2lzdHJhdGlvbicsCiAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMuc2hvd0FsZXJ0KGZhbHNlKTsKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["RegistrationPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA,MAAA,SAAA,EAAA,EAJA;AAKA,MAAA,WAAA,EAAA,CALA;AAMA,MAAA,gBAAA,EAAA,CANA;AAOA,MAAA,oBAAA,EAAA;AAPA,KAAA;AASA,GAZA;AAaA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,iBAAA;AACA;AAHA,GAbA;AAkBA,EAAA,OAlBA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAmBA,KAAA,QAAA,KAAA,IAnBA;AAAA;AAAA;AAAA;;AAAA;AAAA,4CAoBA,KAAA,MAAA,CAAA,QAAA,CAAA,WAAA,EAAA;AAAA,cAAA,IAAA,EAAA,cAAA;AAAA,cAAA,KAAA,EAAA;AAAA,aAAA,CApBA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,4BACA,gBADA,EACA;AACA,WAAA,gBAAA,GAAA,gBAAA;AACA,KAHA;AAIA,IAAA,oBAJA,gCAIA,oBAJA,EAIA;AACA,WAAA,oBAAA,GAAA,oBAAA;AACA,KANA;AAOA,IAAA,SAPA,qBAOA,IAPA,EAOA;AACA,UAAA,IAAA,EAAA;AACA,aAAA,gBAAA,GAAA,CAAA;AACA,aAAA,oBAAA,GAAA,KAAA,WAAA;AACA,aAAA,SAAA,GAAA,iCAAA;AACA,OAJA,MAKA;AACA,aAAA,oBAAA,GAAA,CAAA;AACA,aAAA,gBAAA,GAAA,KAAA,WAAA;AACA,aAAA,SAAA,GAAA,KAAA,QAAA;AACA;AACA,KAlBA;AAmBA,IAAA,QAnBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBA,cAAA,KApBA,GAoBA,KAAA,KAAA,KAAA,SAAA,GAAA,EAAA,GAAA,KAAA,KAAA,CAAA,IAAA,EApBA;AAqBA,cAAA,SArBA,GAqBA,KAAA,SAAA,KAAA,SAAA,GAAA,EAAA,GAAA,KAAA,SAAA,CAAA,IAAA,EArBA;AAsBA,cAAA,SAtBA,GAsBA,KAAA,SAAA,KAAA,SAAA,GAAA,EAAA,GAAA,KAAA,SAAA,CAAA,IAAA,EAtBA;AAAA;AAAA,8CAwBA,KAAA,uCAAA;AACA,gBAAA,MAAA,EAAA,MADA;AAEA,gBAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AACA,kBAAA,KAAA,EAAA,KADA;AAEA,kBAAA,SAAA,EAAA,SAFA;AAGA,kBAAA,SAAA,EAAA;AAHA,iBAAA,CAFA;AAOA,gBAAA,OAAA,EAAA;AACA,kCAAA;AADA;AAPA,eAAA,CAAA,CAWA,IAXA,CAWA,UAAA,QAAA,EAAA;AACA,oBAAA,QAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,kBAAA,QAAA,CAAA,IAAA,GACA,IADA,CACA,UAAA,IAAA,EAAA;AACA,oBAAA,KAAA,CAAA,SAAA,CAAA,IAAA;AACA,mBAHA;AAIA,iBALA,MAKA;AACA,kBAAA,QAAA,CAAA,IAAA,GACA,IADA,CACA,UAAA,IAAA,EAAA;AACA,oBAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,WAAA,EAAA;AAAA,sBAAA,IAAA,EAAA,cAAA;AAAA,sBAAA,KAAA,EAAA,IAAA,CAAA;AAAA,qBAAA;;AACA,oBAAA,KAAA,CAAA,SAAA,CAAA,KAAA;AACA,mBAJA;AAKA;AACA,eAxBA,WAyBA,UAAA,KAAA,EAAA;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,WAAA,EAAA;AAAA,kBAAA,IAAA,EAAA,cAAA;AAAA,kBAAA,KAAA,EAAA;AAAA,iBAAA;;AACA,gBAAA,KAAA,CAAA,SAAA,CAAA,KAAA;AACA,eA5BA,CAxBA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAvBA,CAAA","sourcesContent":["<template>\n    <div class=\"container\">\n        <section class=\"card card-default w-50 mx-auto\">\n            <h4 class=\"card-header alert-info text-center\">Registration</h4>\n            <form class=\"card-body\" @submit.prevent=\"onSubmit\">\n\t\t\t\t<b-alert variant=\"danger\"\n\t\t\t\t\t\t :show=\"dismissCountDown\"\n\t\t\t\t\t\t dismissible fade\n\t\t\t\t\t\t @dismiss-count-down=\"countDownChanged\">\n\t\t\t\t\t{{ textAlert }}\n\t\t\t\t</b-alert>\n\t\t\t\t<b-alert variant=\"success\"\n\t\t\t\t\t\t :show=\"dismissCountDownGood\"\n\t\t\t\t\t\t dismissible fade\n\t\t\t\t\t\t @dismiss-count-down=\"countDownChangedGood\">\n\t\t\t\t\t{{ textAlert }}\n\t\t\t\t</b-alert>\n\n\n\t\t\t\t<div class=\"form-group\">\n                    <label for=\"login-input\">Username:</label>\n                    <input type=\"text\" name=\"login\" class=\"form-control\" id=\"login-input\" placeholder=\"Username\"\n                           v-model=\"login\">\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"password-input\">Password:</label>\n                    <input type=\"password\" name=\"password\" class=\"form-control\" id=\"password-input\"\n                           placeholder=\"******\" v-model=\"password1\">\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"password2-input\">Password confirmation:</label>\n                    <input type=\"password\" name=\"password2\" class=\"form-control\" id=\"password2-input\"\n                           placeholder=\"******\" v-model=\"password2\">\n                </div>\n                <button type=\"submit\" class=\"btn btn-primary\">Register</button>\n            </form>\n        </section>\n    </div>\n</template>\n\n\n<script>\n    export default {\n        name: 'Registration',\n        data() {\n            return {\n                login: '',\n\t\t\t\ttextAlert: '',\n                password1: '',\n                password2: '',\n                dismissSecs: 4,\n                dismissCountDown: 0,\n\t\t\t\tdismissCountDownGood: 0\n            }\n        },\n        computed: {\n            getError() {\n                return this.$store.getters.registrationError;\n            }\n        },\n        async created() {\n            if (this.getError !== null) {\n                await this.$store.dispatch('SET_ERROR', {type: 'registration', error: null});\n            }\n        },\n        methods: {\n            countDownChanged(dismissCountDown) {\n                this.dismissCountDown = dismissCountDown;\n            },\n\t\t\tcountDownChangedGood(dismissCountDownGood) {\n\t\t\t\tthis.dismissCountDownGood = dismissCountDownGood;\n\t\t\t},\n            showAlert(good) {\n            \tif (good) {\n\t\t\t\t\tthis.dismissCountDown = 0;\n\t\t\t\t\tthis.dismissCountDownGood = this.dismissSecs;\n\t\t\t\t\tthis.textAlert = 'You are successfully registered';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.dismissCountDownGood = 0;\n\t\t\t\t\tthis.dismissCountDown = this.dismissSecs;\n\t\t\t\t\tthis.textAlert = this.getError;\n\t\t\t\t}\n            },\n            async onSubmit() {\n                let login = this.login === undefined ? '' : this.login.trim();\n                let password1 = this.password1 === undefined ? '' : this.password1.trim();\n                let password2 = this.password2 === undefined ? '' : this.password2.trim();\n\n                await fetch(`http://localhost:5000/registration`, {\n                    method: 'POST',\n                    body: JSON.stringify({\n                        login: login,\n                        password1: password1,\n                        password2: password2\n                    }),\n                    headers: {\n                        \"Content-type\": \"application/json; charset=UTF-8\"\n                    }\n                })\n                    .then(response => {\n                        if (response.status === 200) {\n                            response.json()\n                                .then(json => {\n\t\t\t\t\t\t\t\t\tthis.showAlert(true);\n                                });\n                        } else {\n                            response.json()\n                                .then(json => {\n                                    this.$store.dispatch('SET_ERROR', {type: 'registration', error: json.error});\n                                    this.showAlert(false);\n                                });\n                        }\n                    })\n                    .catch(error => {\n                        this.$store.dispatch('SET_ERROR', {type: 'registration', error: error});\n                        this.showAlert(false);\n                    });\n            }\n        }\n    }\n</script>\n\n\n<style>\n\n    label {\n        float: left;\n    }\n\n    .container {\n        min-height: calc(700px - 5vh - 3rem);\n        height: calc(100% - 12.5rem - 5vh);\n        max-width: calc(100% - 40vw);\n    }\n\n</style>"],"sourceRoot":"src/components/views"}]}