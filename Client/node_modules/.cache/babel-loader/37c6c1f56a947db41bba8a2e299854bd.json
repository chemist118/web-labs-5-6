{"remainingRequest":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\otino\\Desktop\\WEB56\\Client\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\src\\App.vue","mtime":1607004295923},{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdhcHAnLAogIGNvbXB1dGVkOiB7CiAgICBnZXRVc2VyOiBmdW5jdGlvbiBnZXRVc2VyKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy51c2VyOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciB1c2VyOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBjcmVhdGVkJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKCEobG9jYWxTdG9yYWdlLmlkICE9PSAnJykpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdXNlciA9IHt9OwogICAgICAgICAgICB1c2VyLmlkID0gbG9jYWxTdG9yYWdlLmlkOwogICAgICAgICAgICB1c2VyLmxvZ2luID0gbG9jYWxTdG9yYWdlLmxvZ2luOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh0aGlzLiRzdG9yZS5kaXNwYXRjaCgnU0VUX1VTRVInLCB1c2VyKSk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIG51bGwsIHRoaXMpOwogIH0sCiAgbWV0aG9kczogewogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGxvZ291dCQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoY29uc29sZS5sb2codGhpcy5nZXRVc2VyKSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgaWYgKCEodGhpcy5nZXRVc2VyID09PSBudWxsKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoY29uc29sZS5sb2coJ3RoaXMuZ2V0VXNlcicpKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChmZXRjaCgiL2FwaS9sb2dvdXQiLCB7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgdXNlcl9pZDogdGhpcy5nZXRVc2VyLmlkCiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdTRVRfVVNFUicsIG51bGwpOwoKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmlkID0gJyc7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5sb2dpbiA9ICcnOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBwYXRoOiAnL2hvbWUnCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdTRVRfRVJST1InLCB7CiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbG9naW4nLAogICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yCiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAnL2xvZ2luJwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,IAAA;AACA;AAHA,GAFA;AAOA,EAAA,OAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQA,YAAA,CAAA,EAAA,KAAA,EARA;AAAA;AAAA;AAAA;;AASA,YAAA,IATA,GASA,EATA;AAUA,YAAA,IAAA,CAAA,EAAA,GAAA,YAAA,CAAA,EAAA;AACA,YAAA,IAAA,CAAA,KAAA,GAAA,YAAA,CAAA,KAAA;AAXA;AAAA,4CAYA,KAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA,IAAA,CAZA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,MADA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAEA,OAAA,CAAA,GAAA,CAAA,KAAA,OAAA,CAFA;;AAAA;AAAA,oBAGA,KAAA,OAAA,KAAA,IAHA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,8CAMA,OAAA,CAAA,GAAA,CAAA,cAAA,CANA;;AAAA;AAAA;AAAA,8CAOA,KAAA,gBAAA;AACA,gBAAA,MAAA,EAAA,MADA;AAEA,gBAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AACA,kBAAA,OAAA,EAAA,KAAA,OAAA,CAAA;AADA,iBAAA,CAFA;AAKA,gBAAA,OAAA,EAAA;AACA,kCAAA;AADA;AALA,eAAA,CAAA,CASA,IATA,CASA,UAAA,QAAA,EAAA;AACA,oBAAA,QAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,kBAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA,IAAA;;AACA,kBAAA,YAAA,CAAA,EAAA,GAAA,EAAA;AACA,kBAAA,YAAA,CAAA,KAAA,GAAA,EAAA;;AACA,kBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,oBAAA,IAAA,EAAA;AAAA,mBAAA;AACA,iBALA,MAKA;AACA,kBAAA,QAAA,CAAA,IAAA,GAAA,IAAA,CAAA,UAAA,KAAA,EAAA;AACA,oBAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,WAAA,EAAA;AAAA,sBAAA,IAAA,EAAA,OAAA;AAAA,sBAAA,KAAA,EAAA;AAAA,qBAAA;;AACA,oBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,sBAAA,IAAA,EAAA;AAAA,qBAAA;AACA,mBAHA;AAIA;AACA,eArBA,WAsBA,UAAA,KAAA;AAAA,uBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA;AAAA,eAtBA,CAPA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAfA,CAAA","sourcesContent":["<template>\n  <div id=\"app\">\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">DoTasks</a>\n      <ul class=\"navbar-nav mr-auto\">\n        <li class=\"nav-item\">\n          <keep-alive>\n            <router-link class=\"nav-link\" to=\"/\">Главная</router-link>\n          </keep-alive>\n        </li>\n\n        <li v-if=\"getUser\" class=\"nav-item\">\n          <keep-alive>\n            <router-link class=\"nav-link\" to=\"/todos\">Задачи</router-link>\n          </keep-alive>\n        </li>\n      </ul>\n      <ul class=\"navbar-nav ml-auto\">\n        <li v-if=\"getUser\" class=\"nav-item\">\n          <a class=\"nav-link\" href=\"#\"><i class=\"fas fa-user-circle\"></i> {{ getUser.login }}</a>\n        </li>\n        <li v-if=\"getUser\" class=\"nav-item\">\n          <a class=\"nav-link my-cursor\" v-on:click=\"logout()\"><i class=\"fas fa-sign-out-alt\"></i> Выход</a>\n        </li>\n        <li v-if=\"!getUser\" class=\"nav-item\">\n          <keep-alive>\n            <router-link class=\"nav-link\" to=\"/login\"><i class=\"fas fa-sign-out-alt\"></i> Вход</router-link>\n          </keep-alive>\n        </li>\n        <li v-if=\"!getUser\" class=\"nav-item\">\n          <keep-alive>\n            <router-link class=\"nav-link\" to=\"/registration\"\n              ><i class=\"fas fa-sign-out-alt\"></i> Регистрация</router-link\n            >\n          </keep-alive>\n        </li>\n      </ul>\n    </nav>\n    <router-view />\n    <footer class=\"footer navbar-fixed-bottom\">\n      <p class=\"text-center\"></p>\n    </footer>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app',\n  computed: {\n    getUser() {\n      return this.$store.getters.user\n    },\n  },\n  async created() {\n    if (localStorage.id !== '') {\n      let user = {}\n      user.id = localStorage.id\n      user.login = localStorage.login\n      await this.$store.dispatch('SET_USER', user)\n    }\n  },\n  methods: {\n    async logout() {\n      await console.log(this.getUser)\n      if (this.getUser === null) {\n        return\n      }\n      await console.log('this.getUser')\n      await fetch(`/api/logout`, {\n        method: 'POST',\n        body: JSON.stringify({\n          user_id: this.getUser.id,\n        }),\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8',\n        },\n      })\n        .then((response) => {\n          if (response.status === 200) {\n            this.$store.dispatch('SET_USER', null)\n            localStorage.id = ''\n            localStorage.login = ''\n            this.$router.push({ path: '/home' })\n          } else {\n            response.json().then((error) => {\n              this.$store.dispatch('SET_ERROR', { type: 'login', error: error })\n              this.$router.push({ path: '/login' })\n            })\n          }\n        })\n        .catch((error) => console.log(error))\n    },\n  },\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  padding: 0;\n  margin: 0;\n}\n\nnav {\n  margin-bottom: 2rem;\n}\n\nfooter {\n  display: flex;\n  flex: 0 0 auto;\n  height: 5vh;\n  margin-top: 10vh;\n}\n\n.my-cursor {\n  cursor: pointer;\n}\n\n.alert {\n  background: linear-gradient(180deg, #5ec985 0%, #52a771 100%), #52a771 !important;\n  border-radius: 8px !important;\n}\n.alert-danger {\n  color: red !important;\n  font-size: 30px !important ;\n  border-color: #df2d3c !important;\n}\na {\n  color: #52a771 !important;\n  font-weight: 600;\n}\n.btn-primary {\n  background: linear-gradient(180deg, #5ec985 0%, #52a771 100%), #52a771 !important;\n  border: none !important;\n  box-shadow: 0 0 8px #52a771 !important;\n}\n.btn-danger {\n  box-shadow: 0 0 5px red !important;\n}\np {\n  color: #52a771 !important;\n}\nh4 {\n  color: white !important;\n}\n</style>\n"],"sourceRoot":"src"}]}