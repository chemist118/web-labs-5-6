{"remainingRequest":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\otino\\Desktop\\WEB56\\Client\\src\\components\\FiltersTodo.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\src\\components\\FiltersTodo.vue","mtime":1607002979742},{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgICBpbXBvcnQgVG9kb0xpc3QgZnJvbSAnQC9jb21wb25lbnRzL1RvZG9MaXN0LnZ1ZScKICAgIGltcG9ydCBUb2RvSXRlbSBmcm9tICdAL2NvbXBvbmVudHMvVG9kb0l0ZW0udnVlJwogICAgaW1wb3J0IExvYWRlciBmcm9tICdAL2NvbXBvbmVudHMvTG9hZGVyLnZ1ZScKCiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgbmFtZTogJ0ZpbHRlcnNUb2RvJywKICAgICAgICBkYXRhKCkgewogICAgICAgICAgICByZXR1cm4gewoJCQkJZmlsdGVyOiAnYWxsJywKICAgICAgICAgICAgICAgIGZpbHRlclRpdGxlOiAnJywKICAgICAgICAgICAgICAgIGxvYWRpbmc6IHRydWUsCgkJCQlmaWx0ZXJlZFRvZG9zOiB0aGlzLnRvZG9MaXN0CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNvbXBvbmVudHM6IHsKICAgICAgICAgICAgVG9kb0xpc3QsCiAgICAgICAgICAgIFRvZG9JdGVtLAogICAgICAgICAgICBMb2FkZXIKICAgICAgICB9LAogICAgICAgIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnRvZG9MaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0VXNlciA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdTRVRfRVJST1InLCB7dHlwZTonbG9naW4nLCBlcnJvcjogJ0ZvcmJpZGRlbid9KTsKICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogJy9sb2dpbid9KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnRkVUQ0hfVE9ET1MnLCB7aWQ6IHRoaXMuZ2V0VXNlci5pZCB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKCQkJdGhpcy5vbkNoYW5nZVNlbGVjdCgpOwogICAgICAgIH0sCiAgICAgICAgY29tcHV0ZWQ6IHsKICAgICAgICAgICAgZ2V0VXNlcigpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLnVzZXI7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvZG9MaXN0KCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuVE9ET1M7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoJCW1ldGhvZHM6IHsKCQkJb25DaGFuZ2VTZWxlY3QoKQoJCQl7CgkJCQlpZiAodGhpcy5maWx0ZXIgPT09ICdhbGwnKSB7CgkJCQkJdGhpcy5maWx0ZXJlZFRvZG9zID0gdGhpcy50b2RvTGlzdDsKCQkJCX0KCQkJCWlmICh0aGlzLmZpbHRlciA9PT0gJ2ZpbmlzaGVkJykgewoJCQkJCXRoaXMuZmlsdGVyZWRUb2RvcyA9IHRoaXMuJHN0b3JlLmdldHRlcnMuQ09NUExfVE9ET1M7CgkJCQl9CgkJCQlpZiAodGhpcy5maWx0ZXIgPT09ICd1bmZpbmlzaGVkJykgewoJCQkJCXRoaXMuZmlsdGVyZWRUb2RvcyA9IHRoaXMuJHN0b3JlLmdldHRlcnMuTk9UX0NPTVBMX1RPRE9TOwoJCQkJfQoJCQl9LAogICAgICAgIAlmaW5kQnlUaXRsZSgpIHsKCQkJCXRoaXMuZmlsdGVyZWRUb2RvcyA9IHRoaXMuZmlsdGVyVGl0bGUgPT09IHVuZGVmaW5lZCA/IHRoaXMudG9kb0xpc3QKCQkJCQkJCTogdGhpcy4kc3RvcmUuZ2V0dGVycy5TRUFSQ0hfVE9ET1ModGhpcy5maWx0ZXJUaXRsZS50cmltKCkpOwoJCQl9CgkJfQogICAgfQo="},{"version":3,"sources":["FiltersTodo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FiltersTodo.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div id=\"section-container\" class=\"rowcard my-rowcard card-default w-100 mx-auto col-sm\">\n        <h4 class=\"alert alert-info text-left\">Список задач</h4>\n        <div>\n            <form>\n                <label for=\"filter\">Фильтры:</label>\n                <input type=\"text\" class=\"form-control for-margin\" id=\"filter\" placeholder=\"Заголовок задачи\"\n                       v-model=\"filterTitle\" v-on:input=\"findByTitle\">\n                <select v-model=\"filter\" class=\"form-control for-margin\" aria-label=\"Basic example\" @change=\"onChangeSelect\">\n                    <option value=\"all\">Все задачи</option>\n                    <option value=\"finished\">Завершенные</option>\n                    <option value=\"unfinished\">Незавершенные</option>\n                </select>\n            </form>\n        </div>\n\n        <Loader v-if=\"loading\"></Loader>\n        <div v-else class=\"card card-default my-style mx-auto col-sm\">\n            <TodoList\n                    v-if=\"filteredTodos !== undefined && filteredTodos.length\"\n                    v-bind:todos=\"filteredTodos\"/>\n            <p v-else>No tasks</p>\n        </div>\n    </div>\n</template>\n\n<script>\n    import TodoList from '@/components/TodoList.vue'\n    import TodoItem from '@/components/TodoItem.vue'\n    import Loader from '@/components/Loader.vue'\n\n    export default {\n        name: 'FiltersTodo',\n        data() {\n            return {\n\t\t\t\tfilter: 'all',\n                filterTitle: '',\n                loading: true,\n\t\t\t\tfilteredTodos: this.todoList\n            }\n        },\n        components: {\n            TodoList,\n            TodoItem,\n            Loader\n        },\n        async created() {\n            if (this.todoList.length === 0) {\n                if (this.getUser === null) {\n                    await this.$store.dispatch('SET_ERROR', {type:'login', error: 'Forbidden'});\n                    await this.$router.push({path: '/login'});\n                    return;\n                }\n                await this.$store.dispatch('FETCH_TODOS', {id: this.getUser.id });\n            }\n            this.loading = false;\n\t\t\tthis.onChangeSelect();\n        },\n        computed: {\n            getUser() {\n                return this.$store.getters.user;\n            },\n            todoList() {\n                return this.$store.getters.TODOS;\n            }\n        },\n\t\tmethods: {\n\t\t\tonChangeSelect()\n\t\t\t{\n\t\t\t\tif (this.filter === 'all') {\n\t\t\t\t\tthis.filteredTodos = this.todoList;\n\t\t\t\t}\n\t\t\t\tif (this.filter === 'finished') {\n\t\t\t\t\tthis.filteredTodos = this.$store.getters.COMPL_TODOS;\n\t\t\t\t}\n\t\t\t\tif (this.filter === 'unfinished') {\n\t\t\t\t\tthis.filteredTodos = this.$store.getters.NOT_COMPL_TODOS;\n\t\t\t\t}\n\t\t\t},\n        \tfindByTitle() {\n\t\t\t\tthis.filteredTodos = this.filterTitle === undefined ? this.todoList\n\t\t\t\t\t\t\t: this.$store.getters.SEARCH_TODOS(this.filterTitle.trim());\n\t\t\t}\n\t\t}\n    }\n</script>\n\n<style scoped>\n    .my-rowcard {\n        min-height: calc(700px - 5vh - 3rem);\n    }\n\n    .for-margin {\n        margin-bottom: 0.5rem;\n    }\n\n    li {\n        border: 1px solid #ccc;\n        display: flex;\n        justify-content: space-between;\n        padding: 0.5rem 2rem;\n        margin-bottom: 0.5rem;\n    }\n\n    label {\n        float: left;\n    }\n\n</style>"]}]}