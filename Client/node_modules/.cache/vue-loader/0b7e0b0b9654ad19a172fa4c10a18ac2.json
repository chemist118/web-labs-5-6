{"remainingRequest":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\otino\\Desktop\\WEB56\\Client\\src\\components\\views\\RegistrationPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\src\\components\\views\\RegistrationPage.vue","mtime":1575649194000},{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\otino\\Desktop\\WEB56\\Client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgbmFtZTogJ1JlZ2lzdHJhdGlvbicsCiAgICAgICAgZGF0YSgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGxvZ2luOiAnJywKCQkJCXRleHRBbGVydDogJycsCiAgICAgICAgICAgICAgICBwYXNzd29yZDE6ICcnLAogICAgICAgICAgICAgICAgcGFzc3dvcmQyOiAnJywKICAgICAgICAgICAgICAgIGRpc21pc3NTZWNzOiA0LAogICAgICAgICAgICAgICAgZGlzbWlzc0NvdW50RG93bjogMCwKCQkJCWRpc21pc3NDb3VudERvd25Hb29kOiAwCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgICAgIGdldEVycm9yKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMucmVnaXN0cmF0aW9uRXJyb3I7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmdldEVycm9yICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnU0VUX0VSUk9SJywge3R5cGU6ICdyZWdpc3RyYXRpb24nLCBlcnJvcjogbnVsbH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBtZXRob2RzOiB7CiAgICAgICAgICAgIGNvdW50RG93bkNoYW5nZWQoZGlzbWlzc0NvdW50RG93bikgewogICAgICAgICAgICAgICAgdGhpcy5kaXNtaXNzQ291bnREb3duID0gZGlzbWlzc0NvdW50RG93bjsKICAgICAgICAgICAgfSwKCQkJY291bnREb3duQ2hhbmdlZEdvb2QoZGlzbWlzc0NvdW50RG93bkdvb2QpIHsKCQkJCXRoaXMuZGlzbWlzc0NvdW50RG93bkdvb2QgPSBkaXNtaXNzQ291bnREb3duR29vZDsKCQkJfSwKICAgICAgICAgICAgc2hvd0FsZXJ0KGdvb2QpIHsKICAgICAgICAgICAgCWlmIChnb29kKSB7CgkJCQkJdGhpcy5kaXNtaXNzQ291bnREb3duID0gMDsKCQkJCQl0aGlzLmRpc21pc3NDb3VudERvd25Hb29kID0gdGhpcy5kaXNtaXNzU2VjczsKCQkJCQl0aGlzLnRleHRBbGVydCA9ICdZb3UgYXJlIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkJzsKCQkJCX0KCQkJCWVsc2UgewoJCQkJCXRoaXMuZGlzbWlzc0NvdW50RG93bkdvb2QgPSAwOwoJCQkJCXRoaXMuZGlzbWlzc0NvdW50RG93biA9IHRoaXMuZGlzbWlzc1NlY3M7CgkJCQkJdGhpcy50ZXh0QWxlcnQgPSB0aGlzLmdldEVycm9yOwoJCQkJfQogICAgICAgICAgICB9LAogICAgICAgICAgICBhc3luYyBvblN1Ym1pdCgpIHsKICAgICAgICAgICAgICAgIGxldCBsb2dpbiA9IHRoaXMubG9naW4gPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcy5sb2dpbi50cmltKCk7CiAgICAgICAgICAgICAgICBsZXQgcGFzc3dvcmQxID0gdGhpcy5wYXNzd29yZDEgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcy5wYXNzd29yZDEudHJpbSgpOwogICAgICAgICAgICAgICAgbGV0IHBhc3N3b3JkMiA9IHRoaXMucGFzc3dvcmQyID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXMucGFzc3dvcmQyLnRyaW0oKTsKCiAgICAgICAgICAgICAgICBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDo1MDAwL3JlZ2lzdHJhdGlvbmAsIHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2luOiBsb2dpbiwKICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQxOiBwYXNzd29yZDEsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkMjogcGFzc3dvcmQyCiAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAiQ29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuanNvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7CgkJCQkJCQkJCXRoaXMuc2hvd0FsZXJ0KHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuanNvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdTRVRfRVJST1InLCB7dHlwZTogJ3JlZ2lzdHJhdGlvbicsIGVycm9yOiBqc29uLmVycm9yfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ1NFVF9FUlJPUicsIHt0eXBlOiAncmVnaXN0cmF0aW9uJywgZXJyb3I6IGVycm9yfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0K"},{"version":3,"sources":["RegistrationPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RegistrationPage.vue","sourceRoot":"src/components/views","sourcesContent":["<template>\n    <div class=\"container\">\n        <section class=\"card card-default w-50 mx-auto\">\n            <h4 class=\"card-header alert-info text-center\">Registration</h4>\n            <form class=\"card-body\" @submit.prevent=\"onSubmit\">\n\t\t\t\t<b-alert variant=\"danger\"\n\t\t\t\t\t\t :show=\"dismissCountDown\"\n\t\t\t\t\t\t dismissible fade\n\t\t\t\t\t\t @dismiss-count-down=\"countDownChanged\">\n\t\t\t\t\t{{ textAlert }}\n\t\t\t\t</b-alert>\n\t\t\t\t<b-alert variant=\"success\"\n\t\t\t\t\t\t :show=\"dismissCountDownGood\"\n\t\t\t\t\t\t dismissible fade\n\t\t\t\t\t\t @dismiss-count-down=\"countDownChangedGood\">\n\t\t\t\t\t{{ textAlert }}\n\t\t\t\t</b-alert>\n\n\n\t\t\t\t<div class=\"form-group\">\n                    <label for=\"login-input\">Username:</label>\n                    <input type=\"text\" name=\"login\" class=\"form-control\" id=\"login-input\" placeholder=\"Username\"\n                           v-model=\"login\">\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"password-input\">Password:</label>\n                    <input type=\"password\" name=\"password\" class=\"form-control\" id=\"password-input\"\n                           placeholder=\"******\" v-model=\"password1\">\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"password2-input\">Password confirmation:</label>\n                    <input type=\"password\" name=\"password2\" class=\"form-control\" id=\"password2-input\"\n                           placeholder=\"******\" v-model=\"password2\">\n                </div>\n                <button type=\"submit\" class=\"btn btn-primary\">Register</button>\n            </form>\n        </section>\n    </div>\n</template>\n\n\n<script>\n    export default {\n        name: 'Registration',\n        data() {\n            return {\n                login: '',\n\t\t\t\ttextAlert: '',\n                password1: '',\n                password2: '',\n                dismissSecs: 4,\n                dismissCountDown: 0,\n\t\t\t\tdismissCountDownGood: 0\n            }\n        },\n        computed: {\n            getError() {\n                return this.$store.getters.registrationError;\n            }\n        },\n        async created() {\n            if (this.getError !== null) {\n                await this.$store.dispatch('SET_ERROR', {type: 'registration', error: null});\n            }\n        },\n        methods: {\n            countDownChanged(dismissCountDown) {\n                this.dismissCountDown = dismissCountDown;\n            },\n\t\t\tcountDownChangedGood(dismissCountDownGood) {\n\t\t\t\tthis.dismissCountDownGood = dismissCountDownGood;\n\t\t\t},\n            showAlert(good) {\n            \tif (good) {\n\t\t\t\t\tthis.dismissCountDown = 0;\n\t\t\t\t\tthis.dismissCountDownGood = this.dismissSecs;\n\t\t\t\t\tthis.textAlert = 'You are successfully registered';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.dismissCountDownGood = 0;\n\t\t\t\t\tthis.dismissCountDown = this.dismissSecs;\n\t\t\t\t\tthis.textAlert = this.getError;\n\t\t\t\t}\n            },\n            async onSubmit() {\n                let login = this.login === undefined ? '' : this.login.trim();\n                let password1 = this.password1 === undefined ? '' : this.password1.trim();\n                let password2 = this.password2 === undefined ? '' : this.password2.trim();\n\n                await fetch(`http://localhost:5000/registration`, {\n                    method: 'POST',\n                    body: JSON.stringify({\n                        login: login,\n                        password1: password1,\n                        password2: password2\n                    }),\n                    headers: {\n                        \"Content-type\": \"application/json; charset=UTF-8\"\n                    }\n                })\n                    .then(response => {\n                        if (response.status === 200) {\n                            response.json()\n                                .then(json => {\n\t\t\t\t\t\t\t\t\tthis.showAlert(true);\n                                });\n                        } else {\n                            response.json()\n                                .then(json => {\n                                    this.$store.dispatch('SET_ERROR', {type: 'registration', error: json.error});\n                                    this.showAlert(false);\n                                });\n                        }\n                    })\n                    .catch(error => {\n                        this.$store.dispatch('SET_ERROR', {type: 'registration', error: error});\n                        this.showAlert(false);\n                    });\n            }\n        }\n    }\n</script>\n\n\n<style>\n\n    label {\n        float: left;\n    }\n\n    .container {\n        min-height: calc(700px - 5vh - 3rem);\n        height: calc(100% - 12.5rem - 5vh);\n        max-width: calc(100% - 40vw);\n    }\n\n</style>"]}]}